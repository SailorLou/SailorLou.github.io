---
layout:     post
title:      "设计模式"
subtitle:   "基础知识总结"
date:       2019-05-25 16:00:00
author:     "Sailor"
categories:  编程哲学
mathjax: true
tags:  编程哲学
---

本文我想探讨的主题应该算是软件编程的的哲学-设计模式和设计准则

<!-- more -->

## 前言
早想写一篇关于设计模式的总结，可一直不敢下笔，因为设计模式和设计准则太过深邃，不知如何动笔，也害怕自己认知有限，误导他人。
后来想明白，这篇总结是自己以往工作和学习的总结，便于自己复读用的，也无关他人，如果有缘人看到此文，发现错误处或不同意见，期待你的批评指教.
也欢迎联系我loufuyi@163.com进行讨论交流，认知是一个过程性的活动，我敢肯定的是这篇文章随着我的开发工作的进行一定会有修改.

## overview
本文我之所以说他是编程哲学，因为这些方法也常常出现在我们生活和其他学科中，计算机南北桥的设计，计算机网络的分层结构等
我本想试图给设计模式一个定义，又不想照本宣科，白话说就是写好程序，这个好又该如何评价呢？我想会有以下几个维度
- 代码复用
- 响应需求变更快
- 移植性
- 可扩展性

可能有人会说好代码还有其他特征比如说：好的代码规范，命名规则，代码执行效率，代码的可读性等等

## 设计准则

### 抽象数据类型(Abstract Data Types ADTs)
很多讲解设计模式的书都没有阐述数据抽象的重要性，可能数据抽象是需求分析的组成部分但不是设计模式的范畴吧，更不算是设计准则，但我想把他放在设计准则中，
以突出他的重要性。我个人觉得，数据抽象是把现实的业务或是场景抽象成虚拟世界的数据集合(或者类)，他是设计模式应用的基石，OOAD的基础，没有好的抽象，
一切设计模式都显得太过脆弱.如何做抽象我觉得是对业务需求有足够的了解和认知，能够掌握需求的边界条件及其可扩展的点，我觉得在《代码大全》中对于抽象
和类的定义的阐述是最好的，以下引用几个好的结论性的总结：
- 良好的类接口：通过接口来展现的合理抽象，并确保细节被影藏在抽象背后.
- 尽可能地限制类和成员的可访问性
- 不要公开暴露成员数据
- 避免把使用的实现细节放在类的接口中-比如接口类中定义了数据成员.
### 开闭准则
-  官方解释是：对扩展开放，对修改封闭;
- 换一句说面对需求的变更时，最大化的保持已有代码的稳定性，而添加新的类或代码.比如说模块与模块之间的信息交流可以抽象接口。
在大型系统或者平台中，比如应用模块很多的情况下，上层把模块的注册接口定掉，在具体的新增应用或模块中，按照架构师订立的接口实现，
就能把应用或者模块集成在现有的系统或平台中.

### 单一原则
- 官方解释是：对一个类而言，应该仅有一个引起它变化的原因，
- 我的理解是：设计类或者模块时，职责要清晰（单一），不能太多，否则其他的类任何相关的类发生变化，就会影响到这个类，
类与类之间的关系也就不牢靠。就像人，具有独立人格的朋友很容易建立巩固的关系，你就会理解他什么会做，什么就不会做，也会取得你的信任。

### 依赖倒置原则
- 官方解释是：高层模块不应该依赖底层模块，两个都应该依赖抽象；抽象不应该依赖细节（具体的实现类），细节应该依赖抽象；
- 针对接口编程，而不是针对实现编程.模块与模块之间的依赖可以通过抽象（或叫接口）来降低耦合.
- 例如，我们在开发图形化界面时，用QT做界面，用VTK来显示三维物体，这时，QT界面就是高层模块，VTK 就是底层模块；那么我们愉快的在QT里
  直接调用VTK里的各种渲染。当有一天说VTK收费了，我们要换成OpenGL，那么界面与vtk之间的耦合又太过高，重构必将是一场灾难。如果我们能够抽象
  一层图形引擎接口，那么QT不直接用VTK，而是用这个抽象层的，那么当我们要opengl换掉vtk时，只需要重新实现这个抽象的图形引擎接口即可，无需动QT的业务逻辑.
  
### 里氏替换原则
- 官方解释是：用子类对象替换掉所有父类被应用的地方，程序依然可以正常的运行，并没发生任何变化.
- 该原则不仅仅指导如何使用继承关系，而且可以用来指导接口与其实现方式的一种设计原则



